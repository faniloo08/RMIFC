import fs from"fs";import{join}from"path";import matter from"gray-matter";import{loadDefaultErrorComponents}from"next/dist/server/load-components";const postsDirectory=join(process.cwd(),"posts");export function getPostSlugs(){return fs.readdirSync(postsDirectory)}export function getPostBySlug(slug,fields=[]){const realSlug=slug.replace(/\.md$/,"");const fullPath=join(postsDirectory,`${realSlug}.md`);const fileContents=fs.readFileSync(fullPath,"utf8");const{data:data,content:content}=matter(fileContents);const items={};fields.forEach((field=>{if(field==="slug"){items[field]=realSlug}if(field==="content"){items[field]=content}if(typeof data[field]!=="undefined"){items[field]=data[field]}}));return items}export function getAllPosts(fields=[]){const slugs=getPostSlugs();const posts=slugs.map((slug=>getPostBySlug(slug,fields)));return posts}export function getFileContentBySlug(fileName,postsPath){const postFilePath=join(postsPath,`${fileName}.md`);const fileContents=fs.readFileSync(postFilePath,"utf8");const{data:data,content:content}=matter(fileContents);return{data:data,content:content}}