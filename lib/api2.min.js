const url="https://backend.crfimmadagascar.org/api/pages?populate=*";async function getData(){try{const resp=await fetch(url);const result=await resp.json();if(resp.status===200){console.log("Success :",result)}return result}catch(error){console.log(`ERROR: ${error}`);return error}}var tableauDeDonnees=[];var tousLesTitres=[];var tousLesContenus=[];export async function DataToTable(){var elements=await getData();var pages=[];var page={};if(typeof elements==="object"&&elements!==null&&elements.data){elements.data.forEach((item=>{var objet=item.attributes;var ligne=[];for(var propriete in objet){ligne.push(objet[propriete])}tableauDeDonnees.push(ligne)}));for(var i=0;i<tableauDeDonnees.length;i++){var titre=tableauDeDonnees[i][0];tousLesTitres.push(titre)}for(var i=0;i<tableauDeDonnees.length;i++){var content=tableauDeDonnees[i][1];tousLesContenus.push(content)}console.log("Les contenus des contenus sont : ",tousLesContenus);for(var i=0;i<tableauDeDonnees.length;i++){page={titre:tousLesTitres[i],contenu:tousLesContenus[i]};pages[i+1]=page}console.log("Tous les contenus formatés donnent : ",pages);console.log(typeof pages);return pages}else{console.error("Les données retournées ne sont pas un objet ou ne contiennent pas de données.")}}